package com.example.demo.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–†–û–õ–õ–ï–† –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
 * 
 * –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ endpoint'—ã –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 */
@RestController
public class MainController {

    /**
     * –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
     * GET /
     * 
     * @return HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ —Å–∏—Å—Ç–µ–º–µ
     */
    @GetMapping("/")
    public String home() {
        return """
            <!DOCTYPE html>
            <html>
            <head>
                <title>üöå Passenger Flow Management System</title>
                <style>
                    body { 
                        font-family: Arial, sans-serif; 
                        margin: 40px;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        min-height: 100vh;
                    }
                    .container { 
                        max-width: 800px; 
                        margin: 0 auto;
                        text-align: center;
                    }
                    .btn { 
                        display: inline-block; 
                        padding: 12px 24px; 
                        margin: 10px; 
                        background: rgba(255,255,255,0.2); 
                        color: white; 
                        text-decoration: none; 
                        border-radius: 8px;
                        border: 2px solid white;
                        transition: all 0.3s;
                    }
                    .btn:hover {
                        background: white;
                        color: #667eea;
                    }
                    h1 { font-size: 2.5em; margin-bottom: 20px; }
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>üöå –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–æ–ø–æ—Ç–æ–∫–æ–º</h1>
                    <p>–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</p>
                    <div>
                        <a class="btn" href="/index.html">üìä –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a>
                        <a class="btn" href="/swagger-ui.html">üìö Swagger API</a>
                        <a class="btn" href="/api/health">üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è</a>
                    </div>
                </div>
            </body>
            </html>
            """;
    }

    /**
     * –ü–†–û–í–ï–†–ö–ê –ó–î–û–†–û–í–¨–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
     * GET /api/health
     * 
     * @return JSON —Å —Å—Ç–∞—Ç—É—Å–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     */
    @GetMapping("/api/health")
    public String health() {
        return """
            {
                "status": "UP",
                "service": "Passenger Flow Management System",
                "timestamp": "%s",
                "version": "1.0.0"
            }
            """.formatted(java.time.LocalDateTime.now());
    }
}